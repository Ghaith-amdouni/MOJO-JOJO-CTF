race condition of the threads when using the dynamic allocator 
